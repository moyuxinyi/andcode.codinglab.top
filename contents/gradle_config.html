<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gradleé…ç½® | Androidç¼–ç è§„èŒƒ</title>
    <meta name="description" content="ä¸€ä¸ªå®‰å“é¡¹ç›®å¼€å‘çš„ç¼–ç è§„èŒƒæ–‡æ¡£">
    <meta name="generator" content="VitePress v1.4.0">
    <link rel="preload stylesheet" href="/assets/style.CX_tV9sI.css" as="style">
    
    <script type="module" src="/assets/app.DyMNxBbh.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DaYBF7Jt.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CmIoOw1s.js">
    <link rel="modulepreload" href="/assets/contents_gradle_config.md.7fvXz-_O.lean.js">
    <link rel="icon" href="/favicon.svg">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"dark",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="/favicon.svg" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>Androidç¼–ç è§„èŒƒ</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/contents/readme.html" tabindex="0" data-v-dc692963 data-v-9c663999><!--[--><span data-v-9c663999>æ–‡æ¡£</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="true" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="true" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>Contents</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/contents/readme.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>è‡ªè¿°</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/contents/project_directory_structure.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>å·¥ç¨‹ç›®å½•ç»“æ„</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/contents/gradle_config.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Gradleé…ç½®</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/contents/naming_conventions.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>å‘½åè§„èŒƒ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/contents/code_style.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>ä»£ç é£æ ¼</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/contents/performance_optimization.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>æ€§èƒ½ä¼˜åŒ–</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/contents/git_conventions.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Git è§„èŒƒ</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>é¡µé¢å¯¼èˆª</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _contents_gradle_config" data-v-39a288b8><div><h1 id="gradleé…ç½®" tabindex="-1">Gradleé…ç½® <a class="header-anchor" href="#gradleé…ç½®" aria-label="Permalink to &quot;Gradleé…ç½®&quot;">â€‹</a></h1><h2 id="åŸºæœ¬é…ç½®" tabindex="-1">åŸºæœ¬é…ç½® <a class="header-anchor" href="#åŸºæœ¬é…ç½®" aria-label="Permalink to &quot;åŸºæœ¬é…ç½®&quot;">â€‹</a></h2><p>é¦–å…ˆï¼Œåœ¨åŸºç¡€é…ç½®ä¿¡æ¯ä¸­æˆ‘å»ºè®®å¼•å…¥ <code>org.ajoberstar.grgit</code> æ’ä»¶<a href="https://github.com/ajoberstar/grgit" target="_blank" rel="noreferrer">ã€Šæ’ä»¶åœ°å€ã€‹</a>ï¼Œ<code>Grgit</code> æ˜¯ä¸€ä¸ªç”¨äºæ“ä½œ Git ä»“åº“çš„ Gradle æ’ä»¶ã€‚</p><p>é€šè¿‡å¼•å…¥è¿™ä¸ªæ’ä»¶æˆ‘ä»¬èƒ½è·å–å¾ˆå¤šGitä»“åº“ç›¸å…³çš„ä¿¡æ¯ï¼Œæ¯”å¦‚æäº¤çš„commit idï¼Œæ‰“çš„ç‰ˆæœ¬TAGæ ‡è¯†ç­‰ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ‰“åŒ…é…ç½®ä¸­æŠŠè¿™äº›ä¿¡æ¯è®°å½•åœ¨æ–‡ä»¶åå­—ä¸Šï¼Œå¾ˆæ–¹ä¾¿ã€‚</p><p><strong>ç¬¬ä¸€æ­¥</strong></p><p>é…ç½®ä»“åº“åœ°å€ã€‚</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-4PY9d" id="tab-5K8GCBK" checked><label data-title="Kotlin DSLè¯­æ³•" for="tab-5K8GCBK">Kotlin DSLè¯­æ³•</label><input type="radio" name="group-4PY9d" id="tab-6rHcpjh"><label data-title="Groovy DSLè¯­æ³•" for="tab-6rHcpjh">Groovy DSLè¯­æ³•</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">maven</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // jitpackä»“åº“</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setUrl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://jitpack.io&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">maven {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // jitpackä»“åº“</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    url </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://jitpack.io&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div><p>ğŸŒŸ ğŸŒŸ ğŸŒŸ å®˜æ–¹æ–‡æ¡£è¯´ï¼šä» 5.0.0 å¼€å§‹ï¼Œgrgit ä»…å‘å¸ƒåˆ° Maven Central ä»“åº“ï¼Œå°±ä¸ç”¨å†é…ç½® jitpack ä»“åº“äº†ã€‚</p><p><strong>ç¬¬äºŒæ­¥</strong></p><p>åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ <code>build.gradle</code> æ–‡ä»¶ä¸­å¼•å…¥æ’ä»¶ï¼Œå°†ä»¥ <code>5.0.0</code> ç‰ˆæœ¬ä½œä¸ºç¤ºä¾‹ã€‚</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-IJ2mP" id="tab-mEqe5EC" checked><label data-title="Kotlin DSLè¯­æ³•" for="tab-mEqe5EC">Kotlin DSLè¯­æ³•</label><input type="radio" name="group-IJ2mP" id="tab-kvTWyQ9"><label data-title="Groovy DSLè¯­æ³•" for="tab-kvTWyQ9">Groovy DSLè¯­æ³•</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // grgitæ’ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;org.ajoberstar.grgit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) version </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;5.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> apply </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plugins {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // grgitæ’ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    id </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;org.ajoberstar.grgit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> version </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;5.0.0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> apply </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div><div class="info custom-block"><p class="custom-block-title">Gradle ä½ç‰ˆæœ¬é€‚é…</p><p>åœ¨ <code>Gradle 7.0</code> ä¹‹å‰çš„ <code>buildscript</code> ç”¨æ³•ï¼š</p><p>åœ¨Grgit 4.1.1 ä»¥ä¸Šç‰ˆæœ¬æ˜¯ä¸æ”¯æŒ Gradle 7.0 ä»¥ä¸‹ç‰ˆæœ¬çš„ã€‚</p><p><a href="https://github.com/ajoberstar/grgit/releases?page=2" target="_blank" rel="noreferrer">ã€ŠGrgitç‰ˆæœ¬å‘è¡Œè¯´æ˜ã€‹</a></p><p><a href="https://ajoberstar.org/grgit/main/index.html" target="_blank" rel="noreferrer">ã€ŠGrgitæ–‡æ¡£ç«™ç‚¹ã€‹</a></p><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é…ç½®æ„å»ºè„šæœ¬æ‰€éœ€çš„ç±»è·¯å¾„ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">buildscript {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å®šä¹‰ç”¨äºä¸‹è½½ä¾èµ–é¡¹çš„ä»“åº“</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    repositories {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ä» Maven ä¸­å¤®ä»“åº“è·å–æ’ä»¶å’Œä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        mavenCentral()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å®šä¹‰æ„å»ºè„šæœ¬çš„ç±»è·¯å¾„ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dependencies {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // è¿™é‡Œæ·»åŠ  Grgit æ’ä»¶ï¼ˆç”¨äº Git æ“ä½œï¼‰åº“</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        classpath </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;org.ajoberstar.grgit:grgit-gradle:4.1.1&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div><p><strong>ç¬¬ä¸‰æ­¥</strong></p><p>åœ¨é¡¹ç›®çš„ <code>app</code> ä¸»æ¨¡å—ä¸­ï¼Œæ‰¾åˆ°<code>build.gradle</code> æ–‡ä»¶ï¼Œå¹¶å¼•ç”¨æ’ä»¶ã€‚</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-Ob3Up" id="tab-bQq4Eyl" checked><label data-title="Kotlin DSLè¯­æ³•" for="tab-bQq4Eyl">Kotlin DSLè¯­æ³•</label><input type="radio" name="group-Ob3Up" id="tab-xmjCWuP"><label data-title="Groovy DSLè¯­æ³•" for="tab-xmjCWuP">Groovy DSLè¯­æ³•</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;org.ajoberstar.grgit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * è·å–å½“å‰æ—¶é—´æˆ³-&gt;å•ä½ç§’</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fun</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> versionTimestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (System.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentTimeMillis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–Gitæäº¤çŸ­é“¾commitå€¼</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gitAbbreviatedId: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> grgit.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().abbreviatedId</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–Gitç‰ˆæœ¬æè¿°ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gitVersionName: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">? </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> grgit.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–æœ€æ–°çš„TAGæ ‡è¯†</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tags </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> grgit.tag.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { it.commit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> grgit.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–ç‰ˆæœ¬TAG</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gitVersionTag: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">? </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (tags.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isNotEmpty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) tags.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">first</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gitVersionName ?: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;V0.0&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">android</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    namespace </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;com.zt.dynamicanalyzer&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç¼–è¯‘æºç ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    compileSdk </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 34</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    defaultConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        applicationId </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;com.zt.dynamicanalyzer&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æœ€ä½é€‚é…ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        minSdk </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 19</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ç›®æ ‡é€‚é…ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        targetSdk </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 34</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ç‰ˆæœ¬å·ï¼ˆé‡‡ç”¨æ—¶é—´æˆ³ï¼Œæ¯æ¬¡æ‰“åŒ…ä¸ç”¨æ“å¿ƒæ›´æ”¹ç‰ˆæœ¬å·ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        versionCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> versionTimestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ç‰ˆæœ¬åé‡‡ç”¨TAGæ ‡ç­¾çš„å€¼ï¼ˆä¸€èˆ¬å°±æ˜¯ï¼šV1.0ã€V1.1ã€ç­‰ç­‰ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        versionName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$gitVersionTag</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // MultiDex å¼€å…³ï¼ˆä½œç”¨æ˜¯å…è®¸åº”ç”¨ä»£ç æ‹†åˆ†æˆå¤šä¸ªDexæ–‡ä»¶ï¼Œä»¥é¿å…æ–¹æ³•æ•°è¶…è¿‡65,536ä¸ªçš„é™åˆ¶ã€‚ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        multiDexEnabled </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plugins {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    id </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;org.ajoberstar.grgit&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * è·å–å½“å‰æ—¶é—´æˆ³ -&gt; å•ä½ç§’</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> versionTimestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">System.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">currentTimeMillis() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–Gitæäº¤çŸ­é“¾commitå€¼</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gitAbbreviatedId </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> grgit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">head()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">abbreviatedId</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–Gitç‰ˆæœ¬æè¿°ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gitVersionName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> grgit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">describe()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–æœ€æ–°çš„TAGæ ‡è¯†</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tags </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> grgit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tag</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">list()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">findAll { it</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">commit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> grgit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">head() }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–ç‰ˆæœ¬TAG</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gitVersionTag </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tags </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tags[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (gitVersionName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;V0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">android {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    namespace </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;com.zt.dynamicanalyzer&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç¼–è¯‘æºç ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    compileSdk </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">34</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    defaultConfig {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        applicationId </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;com.zt.dynamicanalyzer&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æœ€ä½é€‚é…ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        minSdk </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">19</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ç›®æ ‡é€‚é…ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        targetSdk </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">34</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ç‰ˆæœ¬å·ï¼ˆé‡‡ç”¨æ—¶é—´æˆ³ï¼Œæ¯æ¬¡æ‰“åŒ…ä¸ç”¨æ“å¿ƒæ›´æ”¹ç‰ˆæœ¬å·ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        versionCode versionTimestamp()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ç‰ˆæœ¬åé‡‡ç”¨TAGæ ‡ç­¾çš„å€¼ï¼ˆä¸€èˆ¬å°±æ˜¯ï¼šV1.0ã€V1.1ã€ç­‰ç­‰ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        versionName </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$gitVersionTag</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // MultiDex å¼€å…³ï¼ˆä½œç”¨æ˜¯å…è®¸åº”ç”¨ä»£ç æ‹†åˆ†æˆå¤šä¸ªDexæ–‡ä»¶ï¼Œä»¥é¿å…æ–¹æ³•æ•°è¶…è¿‡65,536ä¸ªçš„é™åˆ¶ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        multiDexEnabled </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div><div class="info custom-block"><p class="custom-block-title">Gradle ä½ç‰ˆæœ¬é€‚é…</p><p>å¦å¤–ï¼Œåœ¨Gradle 7.0 ç‰ˆæœ¬ä¹‹å‰ï¼Œå¼•ç”¨æ’ä»¶çš„å†™æ³•ï¼š</p><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åº”ç”¨ grgit æ’ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">apply </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;org.ajoberstar.grgit&#39;</span></span></code></pre></div></div><p>Androidé¡¹ç›®çš„GradleåŸºç¡€é…ç½®æ•´ä½“æ¯”è¾ƒåŸºç¡€ï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šèµ˜è¿°äº†ã€‚</p><h2 id="ç­¾åé…ç½®" tabindex="-1">ç­¾åé…ç½® <a class="header-anchor" href="#ç­¾åé…ç½®" aria-label="Permalink to &quot;ç­¾åé…ç½®&quot;">â€‹</a></h2><p>åœ¨æ‰“åŒ…åº”ç”¨æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸è¦ç»™åº”ç”¨è¿›è¡Œç­¾åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ build.gradle æ–‡ä»¶ä¸­æ·»åŠ ç­¾åé…ç½®ã€‚å¥½å¤„æ˜¯å¯ä»¥ç®€åŒ–æ‰‹åŠ¨æ‰“åŒ…çš„ç¹çæµç¨‹ï¼Œä¹Ÿå¯ä»¥é¿å…æ‰“åŒ…æ—¶é€‰é”™ç­¾åæ–‡ä»¶ã€è¾“é”™å¯†ç ç­‰é—®é¢˜ã€‚è€Œä¸”è¿˜èƒ½è‡ªç”±é…ç½®å¤šç‰ˆæœ¬æ‰“åŒ…çš„ç­¾åé…ç½®ã€‚</p><p><strong>ç¬¬ä¸€æ­¥</strong></p><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆä¸æ˜¯åŒ…åæ ¹ç›®å½•ï¼‰åˆ›å»ºä¸€ä¸ª <code>signatures</code> ç›®å½•ï¼ˆç›®å½•åèƒ½è‡ªç”±å¡«å†™ï¼‰ï¼ŒæŠŠç­¾åæ–‡ä»¶æ”¾è¿›å»ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>app/</span></span>
<span class="line"><span>signatures/</span></span>
<span class="line"><span> â””â”€â”€key.jks # ç­¾åæ–‡ä»¶</span></span></code></pre></div><p><strong>ç¬¬äºŒæ­¥</strong></p><p>åœ¨ <code>gradle.properties</code> é…ç½®æ–‡ä»¶ä¸­å®šä¹‰ç­¾åé…ç½®ä¿¡æ¯</p><div class="language-properties vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åº”ç”¨æ‰“åŒ…çš„ç­¾åé…ç½®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">signFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=../signatures/key.jks</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">signAlias</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=ç­¾ååˆ«å</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">signPassword</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=ç­¾åå¯†ç </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">signKeyPassword</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=ç­¾åå¯†é’¥å¯†ç </span></span></code></pre></div><p><strong>ç¬¬ä¸‰æ­¥</strong></p><p>åœ¨ <code>build.gradle</code> æ–‡ä»¶ä¸­ç¼–å†™ç­¾åé…ç½®ã€‚</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group--OLfS" id="tab-AmFswbr" checked><label data-title="Kotlin DSLè¯­æ³•" for="tab-AmFswbr">Kotlin DSLè¯­æ³•</label><input type="radio" name="group--OLfS" id="tab-BB_PJnV"><label data-title="Groovy DSLè¯­æ³•" for="tab-BB_PJnV">Groovy DSLè¯­æ³•</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">android</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç­¾åé…ç½®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    signingConfigs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;release&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            storeFile </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(project.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;signFile&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            keyAlias </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> project.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;signAlias&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            storePassword </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> project.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;signPassword&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            keyPassword </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> project.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;signKeyPassword&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    buildTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        release</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // ...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // å¼•ç”¨å‘å¸ƒç‰ˆç­¾å</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            signingConfig </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> signingConfigs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getByName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;release&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">android {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç­¾åé…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    signingConfigs {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        release {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            storeFile file(project</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">property(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;signFile&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            storePassword project</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">property(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;signPassword&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            keyAlias project</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">property(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;signAlias&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            keyPassword project</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">property(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;signKeyPassword&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    buildTypes {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        release {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // ...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // å¼•ç”¨å‘å¸ƒç‰ˆç­¾å</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            signingConfig signingConfigs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">release</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div><p>è¿™æ ·å°±å®Œæˆäº†ï¼Œå¯ä»¥å»ç‚¹Build &gt; Build App Bundle(s)/Apk(s) &gt; Build Apk(s) é€‰é¡¹ä¸€é”®æ‰“åŒ…äº†ã€‚</p><div class="warning custom-block"><p class="custom-block-title">æ³¨æ„</p><p>ç„¶åå€¼å¾—æ³¨æ„çš„æ˜¯ç­¾åé…ç½®ä¸ä»…ä»…æ˜¯ä¸€é¡¹æŠ€æœ¯æ“ä½œï¼Œå®ƒä¹Ÿå…³ä¹åº”ç”¨çš„å®‰å…¨ã€å¯ä¿¡åº¦ä»¥åŠåç»­ç‰ˆæœ¬çš„ç®¡ç†ã€‚å› æ­¤ï¼Œè¯·åŠ¡å¿…è®¤çœŸå¯¹å¾…ç­¾åé…ç½®ï¼Œç¡®ä¿å¯†é’¥å®‰å…¨å¹¶é¿å…æ³„æ¼ã€‚</p></div><p>ç„¶åå…³äºç­¾åçš„æ¨èæ–‡ç« ï¼š<a href="https://www.jianshu.com/p/a1f8e5896aa2" target="_blank" rel="noreferrer">ã€ŠApk ç­¾åçš„é‚£äº›äº‹ã€‹</a></p><h2 id="å¤šç‰ˆæœ¬æ‰“åŒ…" tabindex="-1">å¤šç‰ˆæœ¬æ‰“åŒ… <a class="header-anchor" href="#å¤šç‰ˆæœ¬æ‰“åŒ…" aria-label="Permalink to &quot;å¤šç‰ˆæœ¬æ‰“åŒ…&quot;">â€‹</a></h2><p>é€šè¿‡åŒºåˆ†ä¸åŒçš„ç‰ˆæœ¬ï¼ˆå¦‚å…è´¹ç‰ˆã€ä½“éªŒç‰ˆã€ä»˜è´¹ç‰ˆï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å…¶è¿›è¡Œå•ç‹¬é…ç½®ã€‚</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-1tRfh" id="tab-FXV87yJ" checked><label data-title="Kotlin DSLè¯­æ³•" for="tab-FXV87yJ">Kotlin DSLè¯­æ³•</label><input type="radio" name="group-1tRfh" id="tab-BhPZN_-"><label data-title="Groovy DSLè¯­æ³•" for="tab-BhPZN_-">Groovy DSLè¯­æ³•</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">android</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    buildTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å¼€å‘ç‰ˆ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        debug</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            isMinifyEnabled </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            signingConfig </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> signingConfigs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getByName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;release&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ä½“éªŒç‰ˆ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;trial&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            isMinifyEnabled </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // å¦‚æœæ²¡æœ‰ä¸º trial ç‰ˆæœ¬å®šä¹‰èµ„æºæˆ–é…ç½®ï¼Œä½¿ç”¨ debug ç‰ˆæœ¬çš„èµ„æºæˆ–é…ç½®ä½œä¸ºå›é€€</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // matchingFallbacks ç”¨äºåœ¨æ„å»ºæ—¶åŒ¹é…èµ„æºå’Œä¾èµ–é¡¹ï¼Œå¦‚æœ trial ç‰ˆæœ¬ç¼ºå°‘æŸäº›èµ„æºæˆ–é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // åˆ™å°è¯•ä» debug æ„å»ºç±»å‹ä¸­è·å–ã€‚è¿™é¿å…äº†ç¼ºå°‘èµ„æºæˆ–é…ç½®æ—¶æ„å»ºå¤±è´¥ã€‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            matchingFallbacks.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;debug&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            signingConfig </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> signingConfigs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getByName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;release&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å‘å¸ƒç‰ˆ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        release</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            isMinifyEnabled </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            signingConfig </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> signingConfigs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getByName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;release&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // æ··æ·†é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            proguardFiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getDefaultProguardFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;proguard-android-optimize.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;proguard-rules.pro&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">android {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    buildTypes {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å¼€å‘ç‰ˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        debug {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            minifyEnabled </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            signingConfig signingConfigs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">release</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ä½“éªŒç‰ˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        trial {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            minifyEnabled </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // å¦‚æœæ²¡æœ‰ä¸º trial ç‰ˆæœ¬å®šä¹‰èµ„æºæˆ–é…ç½®ï¼Œä½¿ç”¨ debug ç‰ˆæœ¬çš„èµ„æºæˆ–é…ç½®ä½œä¸ºå›é€€</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // matchingFallbacks ç”¨äºåœ¨æ„å»ºæ—¶åŒ¹é…èµ„æºå’Œä¾èµ–é¡¹ï¼Œå¦‚æœ trial ç‰ˆæœ¬ç¼ºå°‘æŸäº›èµ„æºæˆ–é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // åˆ™å°è¯•ä» debug æ„å»ºç±»å‹ä¸­è·å–ã€‚è¿™é¿å…äº†ç¼ºå°‘èµ„æºæˆ–é…ç½®æ—¶æ„å»ºå¤±è´¥ã€‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            matchingFallbacks </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;debug&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            signingConfig signingConfigs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">release</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å‘å¸ƒç‰ˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        release {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            minifyEnabled </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            signingConfig signingConfigs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">release</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // æ··æ·†é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            proguardFiles getDefaultProguardFile(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;proguard-android-optimize.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;proguard-rules.pro&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div><div class="info custom-block"><p class="custom-block-title">ç”Ÿæˆçš„æ„å»ºç‰ˆæœ¬</p><p>é€šè¿‡è¿™ä¸ªé…ç½®æˆ‘ä»¬å¯ä»¥æ„å»ºç‰ˆæœ¬ï¼š</p><ul><li>debugï¼šè°ƒè¯•ç‰ˆæœ¬</li><li>trialï¼šä½“éªŒç‰ˆæœ¬</li><li>releaseï¼šå‘å¸ƒç‰ˆæœ¬</li></ul></div><h3 id="æ·»åŠ æ„å»ºå˜ä½“" tabindex="-1">æ·»åŠ æ„å»ºå˜ä½“ <a class="header-anchor" href="#æ·»åŠ æ„å»ºå˜ä½“" aria-label="Permalink to &quot;æ·»åŠ æ„å»ºå˜ä½“&quot;">â€‹</a></h3><p>é€šè¿‡ <code>flavorDimensions</code> æ·»åŠ ä¸€ä¸ªäº§å“çš„é£å‘³ç»´åº¦ï¼Œé€šè¿‡ <code>productFlavors</code> æ·»åŠ å¤šä¸ªå˜ä½“ã€‚æ¯ä¸ªå˜ä½“å¯ä»¥æ ¹æ®éœ€æ±‚è¿›è¡Œä¸åŒçš„é…ç½®å’Œä¾èµ–é¡¹ç®¡ç†ï¼Œè¿™ä¸ªé…ç½®èƒ½å¸®åŠ©æˆ‘ä»¬æ„å»ºå¤šä¸ªä¸åŒç‰ˆæœ¬çš„åº”ç”¨ç¨‹åºã€‚</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-W3yeB" id="tab-EFjI0vo" checked><label data-title="Kotlin DSLè¯­æ³•" for="tab-EFjI0vo">Kotlin DSLè¯­æ³•</label><input type="radio" name="group-W3yeB" id="tab-iqC0JV9"><label data-title="Groovy DSLè¯­æ³•" for="tab-iqC0JV9">Groovy DSLè¯­æ³•</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">android</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ·»åŠ ä¸€ä¸ªç»´åº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    flavorDimensions.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å®šä¹‰ä¸¤ä¸ªä¸åŒçš„äº§å“é£å‘³ï¼ˆå˜ä½“ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    productFlavors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å…è´¹ç‰ˆå˜ä½“</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;free&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // æŒ‡å®šè¿™ä¸ªå˜ä½“çš„ç»´åº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            dimension </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;version&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // ä¸º free å˜ä½“çš„åº”ç”¨æŒ‡å®šä¸åŒçš„åº”ç”¨åç§°ï¼ˆç”¨äºå­—ç¬¦ä¸²èµ„æºï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            resValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;string&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;app_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MyApp Free&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ä»˜è´¹ç‰ˆå˜ä½“</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;paid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // æŒ‡å®šè¿™ä¸ªå˜ä½“çš„ç»´åº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            dimension </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;version&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // ä¸º paid å˜ä½“çš„åº”ç”¨æŒ‡å®šä¸åŒçš„åº”ç”¨åç§°ï¼ˆç”¨äºå­—ç¬¦ä¸²èµ„æºï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            resValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;string&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;app_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MyApp Paid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">android {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ·»åŠ ä¸€ä¸ªç»´åº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    flavorDimensions </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;version&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å®šä¹‰ä¸¤ä¸ªä¸åŒçš„äº§å“é£å‘³ï¼ˆå˜ä½“ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    productFlavors {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å…è´¹ç‰ˆå˜ä½“</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        free {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // æŒ‡å®šè¿™ä¸ªå˜ä½“çš„ç»´åº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            dimension </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;version&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // ä¸º free å˜ä½“çš„åº”ç”¨æŒ‡å®šä¸åŒçš„åº”ç”¨åç§°ï¼ˆç”¨äºå­—ç¬¦ä¸²èµ„æºï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            resValue </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;string&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;app_name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;MyApp Free&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ä»˜è´¹ç‰ˆå˜ä½“</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        paid {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // æŒ‡å®šè¿™ä¸ªå˜ä½“çš„ç»´åº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            dimension </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;version&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // ä¸º paid å˜ä½“çš„åº”ç”¨æŒ‡å®šä¸åŒçš„åº”ç”¨åç§°ï¼ˆç”¨äºå­—ç¬¦ä¸²èµ„æºï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            resValue </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;string&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;app_name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;MyApp Paid&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div><div class="info custom-block"><p class="custom-block-title">ç”Ÿæˆçš„æ„å»ºå˜ä½“</p><p>é€šè¿‡ä¸Šé¢é…ç½®ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä»¥ä¸‹çš„æ„å»ºå˜ä½“ç»„åˆï¼š</p><ul><li>freeDebugï¼šå…è´¹ç‰ˆçš„è°ƒè¯•ç‰ˆæœ¬</li><li>freeTrialï¼šå…è´¹ç‰ˆçš„ä½“éªŒç‰ˆæœ¬</li><li>freeReleaseï¼šå…è´¹ç‰ˆçš„å‘å¸ƒç‰ˆæœ¬</li><li>paidDebugï¼šä»˜è´¹ç‰ˆçš„è°ƒè¯•ç‰ˆæœ¬</li><li>paidTrialï¼šä»˜è´¹ç‰ˆçš„ä½“éªŒç‰ˆæœ¬</li><li>paidReleaseï¼šä»˜è´¹ç‰ˆçš„å‘å¸ƒç‰ˆæœ¬</li></ul></div><p><em><strong>ğŸ€ å¤šç»´åº¦</strong></em></p><p><code>flavorDimensions</code> æ˜¯ä¸€ä¸ªListï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å®šä¹‰å¤šä¸ªç»´åº¦ã€‚æ¯ä¸ªç»´åº¦å¯ä»¥æœ‰å¤šä¸ªå˜ä½“ï¼Œæ¯ä¸ªå˜ä½“éƒ½ä»£è¡¨åº”ç”¨çš„æŸç§å˜ä½“ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ï¼Œfree æˆ– paidï¼‰ã€‚é€šè¿‡å®šä¹‰å¤šä¸ªç»´åº¦ï¼Œæˆ‘ä»¬å¯ä»¥å°†å˜ä½“æŒ‰ä¸åŒçš„æ–¹å¼ç»„åˆèµ·æ¥ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘å¯ä»¥åŒæ—¶æ·»åŠ ä»¥ä¸‹ä¸¤ä¸ªç»´åº¦ï¼š</p><ul><li>versionï¼šè¡¨ç¤ºåº”ç”¨çš„ç‰ˆæœ¬ï¼Œå¦‚ free å’Œ paidã€‚</li><li>deviceï¼šè¡¨ç¤ºåº”ç”¨æ”¯æŒçš„è®¾å¤‡ç±»å‹ï¼Œå¦‚ phone å’Œ tabletã€‚</li></ul><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-swQnl" id="tab-n34PkuT" checked><label data-title="Kotlin DSLè¯­æ³•" for="tab-n34PkuT">Kotlin DSLè¯­æ³•</label><input type="radio" name="group-swQnl" id="tab-nW7s2sL"><label data-title="Groovy DSLè¯­æ³•" for="tab-nW7s2sL">Groovy DSLè¯­æ³•</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">android</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å®šä¹‰å¤šä¸ªç»´åº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    flavorDimensions.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç‰ˆæœ¬ç»´åº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    flavorDimensions.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;device&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è®¾å¤‡ç»´åº¦</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ·»åŠ å˜ä½“</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    productFlavors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;free&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            dimension </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;version&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;paid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            dimension </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;version&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æ‰‹æœºè®¾å¤‡ç‰ˆæœ¬å˜ä½“</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;phone&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            dimension </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;device&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            resValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;string&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;device_type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Phone&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å¹³æ¿è®¾å¤‡ç‰ˆæœ¬å˜ä½“</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tablet&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            dimension </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;device&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            resValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;string&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;device_type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Tablet&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">android {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å®šä¹‰å¤šä¸ªç»´åº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    flavorDimensions </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;version&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;device&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç‰ˆæœ¬ç»´åº¦å’Œè®¾å¤‡ç»´åº¦</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ·»åŠ å˜ä½“</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    productFlavors {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        free {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            dimension </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;version&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        paid {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            dimension </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;version&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æ‰‹æœºè®¾å¤‡ç‰ˆæœ¬å˜ä½“</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        phone {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            dimension </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;device&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            resValue </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;string&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;device_type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Phone&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å¹³æ¿è®¾å¤‡ç‰ˆæœ¬å˜ä½“</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        tablet {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            dimension </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;device&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            resValue </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;string&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;device_type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Tablet&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div><div class="info custom-block"><p class="custom-block-title">ç”Ÿæˆçš„æ„å»ºå˜ä½“</p><p>ä½¿ç”¨ä¸Šé¢é…ç½®åï¼ŒGradle ä¼šè‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹æ„å»ºå˜ä½“ç»„åˆï¼š</p><ul><li>freePhoneDebugï¼šå…è´¹ç‰ˆï¼Œé€‚ç”¨äºæ‰‹æœºè®¾å¤‡ï¼Œè°ƒè¯•ç‰ˆæœ¬</li><li>freePhoneTrialï¼šå…è´¹ç‰ˆï¼Œé€‚ç”¨äºæ‰‹æœºè®¾å¤‡ï¼Œä½“éªŒç‰ˆæœ¬</li><li>freePhoneReleaseï¼šå…è´¹ç‰ˆï¼Œé€‚ç”¨äºæ‰‹æœºè®¾å¤‡ï¼Œå‘å¸ƒç‰ˆæœ¬</li><li>freeTabletDebugï¼šå…è´¹ç‰ˆï¼Œé€‚ç”¨äºå¹³æ¿è®¾å¤‡ï¼Œè°ƒè¯•ç‰ˆæœ¬</li><li>freeTabletTrialï¼šå…è´¹ç‰ˆï¼Œé€‚ç”¨äºå¹³æ¿è®¾å¤‡ï¼Œä½“éªŒç‰ˆæœ¬</li><li>freeTabletReleaseï¼šå…è´¹ç‰ˆï¼Œé€‚ç”¨äºå¹³æ¿è®¾å¤‡ï¼Œå‘å¸ƒç‰ˆæœ¬</li><li>paidPhoneDebugï¼šä»˜è´¹ç‰ˆï¼Œé€‚ç”¨äºæ‰‹æœºè®¾å¤‡ï¼Œè°ƒè¯•ç‰ˆæœ¬</li><li>paidTabletTrialï¼šä»˜è´¹ç‰ˆï¼Œé€‚ç”¨äºæ‰‹æœºè®¾å¤‡ï¼Œä½“éªŒç‰ˆæœ¬</li><li>paidPhoneReleaseï¼šä»˜è´¹ç‰ˆï¼Œé€‚ç”¨äºæ‰‹æœºè®¾å¤‡ï¼Œå‘å¸ƒç‰ˆæœ¬</li><li>paidTabletDebugï¼šä»˜è´¹ç‰ˆï¼Œé€‚ç”¨äºå¹³æ¿è®¾å¤‡ï¼Œè°ƒè¯•ç‰ˆæœ¬</li><li>paidTabletTrialï¼šä»˜è´¹ç‰ˆï¼Œé€‚ç”¨äºå¹³æ¿è®¾å¤‡ï¼Œä½“éªŒç‰ˆæœ¬</li><li>paidTabletReleaseï¼šä»˜è´¹ç‰ˆï¼Œé€‚ç”¨äºå¹³æ¿è®¾å¤‡ï¼Œå‘å¸ƒç‰ˆæœ¬</li></ul></div><p>æ€»ç»“ï¼šå¤šç»´åº¦å¯ä»¥ç®¡ç†å¤æ‚çš„åº”ç”¨ç‰ˆæœ¬ï¼Œéå¸¸é€‚åˆé‚£äº›éœ€è¦å¤šç§ç»„åˆå’Œæ”¯æŒå¤šç§ç‰ˆæœ¬ã€è®¾å¤‡ç±»å‹æˆ–å¸‚åœºæ¸ é“çš„é¡¹ç›®ã€‚</p><h2 id="æ‰“åŒ…é…ç½®" tabindex="-1">æ‰“åŒ…é…ç½® <a class="header-anchor" href="#æ‰“åŒ…é…ç½®" aria-label="Permalink to &quot;æ‰“åŒ…é…ç½®&quot;">â€‹</a></h2><p>ä¸‹é¢æ˜¯æ‰“åŒ… <code>apk</code> çš„é…ç½®ä»£ç ï¼Œè¿™ä¸ªé…ç½®å®šä¹‰äº† APK åœ¨æ„å»ºè¾“å‡ºæ—¶çš„æ–‡ä»¶å‘½åè§„åˆ™ï¼Œç›®çš„æ˜¯è®©è¾“å‡ºçš„ APK æ–‡ä»¶å…·æœ‰æ¸…æ™°çš„æ ‡è¯†ã€‚æ¯æ¬¡æ‰“åŒ…æ—¶ï¼Œæ ¹æ®æ„å»ºç±»å‹Debugæˆ–è€…Releaseæˆ–å…¶ä»–ï¼Œä»¥åŠé¡¹ç›®çš„å…¶ä»–æ ‡è¯†ï¼Œæ¥ç”Ÿæˆç‰¹å®šæ ¼å¼çš„æ–‡ä»¶åï¼Œä¾¿äºåŒºåˆ†å’Œç®¡ç†æ„å»ºè¾“å‡ºçš„apkåŒ…ã€‚</p><p>apkæ–‡ä»¶çš„å‘½åè§„åˆ™æ˜¯ï¼š<code>å˜ä½“åç§°_ç‰ˆæœ¬æ ‡è¯†_æ‰“åŒ…æ ‡è¯†_commitå€¼.apk</code></p><p><strong>1.ç¬¬ä¸€æ­¥</strong></p><p>åœ¨ <code>gradle.properties</code> é…ç½®æ–‡ä»¶ä¸­å®šä¹‰æ‰“åŒ…æ ‡è¯†ã€‚</p><div class="language-properties vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ‰“åŒ…æ ‡è¯†</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PACKAGE_KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=app_name</span></span></code></pre></div><p><strong>1.ç¬¬äºŒæ­¥</strong></p><p>åœ¨ <code>build.gradle</code> é…ç½®æ–‡ä»¶ä¸­ç¼–å†™æ‰“åŒ…é…ç½®ã€‚</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-H_r6Z" id="tab--WOSxXg" checked><label data-title="Kotlin DSLè¯­æ³•" for="tab--WOSxXg">Kotlin DSLè¯­æ³•</label><input type="radio" name="group-H_r6Z" id="tab-Y-VMyUM"><label data-title="Groovy DSLè¯­æ³•" for="tab-Y-VMyUM">Groovy DSLè¯­æ³•</label></div><div class="blocks"><div class="language-kotlin vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">android</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // é…ç½® APK çš„æ‰“åŒ…æ–‡ä»¶å‘½åè§„åˆ™</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    applicationVariants.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">all</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        outputs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            it </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.android.build.gradle.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">internal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.api.ApkVariantOutputImpl</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { output </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // è·å–å˜ä½“åç§°ï¼Œå¯èƒ½åŒ…å« &#39;-&#39;ï¼Œå»æ‰ &#39;-&#39; ç¬¦å·æ”¹ä¸º &#39;_&#39;ã€‚</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> variantName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> output.name.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;_&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> appName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (buildType.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;release&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                // åªæœ‰åœ¨å‘å¸ƒç‰ˆçš„æ—¶å€™æ‰æ‹¼æ¥ç‰ˆæœ¬å·TAGæ ‡è¯†</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;${variantName}_${gitVersionTag}_${project.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">property</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(&quot;PACKAGE_KEY&quot;)}_${gitAbbreviatedId}.apk&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;${variantName}_${project.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">property</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(&quot;PACKAGE_KEY&quot;)}_${gitAbbreviatedId}.apk&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            output.outputFileName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> appName</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">android {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // é…ç½® APK çš„æ‰“åŒ…æ–‡ä»¶å‘½åè§„åˆ™</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  android</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">applicationVariants</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">all { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">variant</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    variant</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">outputs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">each { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">output</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (output </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">instanceof</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> com.android.build.gradle.internal.api.ApkVariantOutputImpl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // è·å–å˜ä½“åç§°ï¼Œå¯èƒ½åŒ…å« &#39;-&#39;ï¼Œå»æ‰ &#39;-&#39; ç¬¦å·æ”¹ä¸º &#39;_&#39;ã€‚</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        def</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> variantName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> output</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">replace(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;-&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;_&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        def</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> appName</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (variant</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">buildType</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;release&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // åªæœ‰åœ¨å‘å¸ƒç‰ˆçš„æ—¶å€™æ‰æ‹¼æ¥ç‰ˆæœ¬å·TAGæ ‡è¯†</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          appName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;${variantName}_${gitVersionTag}_${project.property(&#39;PACKAGE_KEY&#39;)}_${gitAbbreviatedId}.apk&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          appName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;${variantName}_${project.property(&#39;PACKAGE_KEY&#39;)}_${gitAbbreviatedId}.apk&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        output</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">outputFileName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> appName</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div><div class="info custom-block"><p class="custom-block-title">ğŸ’¡ æµ‹è¯•</p><p>å‡è®¾å½“å‰é€‰æ‹©äº†freeTrialçš„å˜ä½“ç‰ˆæœ¬ï¼Œé‚£ä¹ˆè¾“å‡ºç»“æœå°±ä¼šæ˜¯ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>free_trial_app_name_08d8553.apk</span></span></code></pre></div><p>é€‰æ‹©freeReleaseå˜ä½“ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>free_release_V1.0_app_name_08d8553.apk</span></span></code></pre></div></div><div class="tip custom-block"><p class="custom-block-title">æ¨èæŒ‡æ•° â­ï¸ â­ï¸ â­ï¸ â­ï¸ â­ï¸</p><p>è™½ç„¶è¿™ç§é…ç½®å¹¶ä¸æ˜¯å¼ºåˆ¶è¦æ±‚çš„ï¼Œå› ä¸ºæ¯ä¸ªé¡¹ç›®çš„å®é™…æƒ…å†µä¸ä¸€æ ·å˜›ï¼Œä½†æ˜¯æˆ‘æ¨èæŒ‰ç…§æ­¤ç§æ–¹å¼çš„å‘½åè§„åˆ™æ¥æ‰“åŒ…ã€‚è¿™æ ·åšæœ‰åŠ©äºæé«˜ <code>apk</code> æ–‡ä»¶çš„å¯è¯†åˆ«æ€§å’Œç®¡ç†æ•ˆç‡ï¼Œå°¤å…¶æ˜¯åœ¨æ­å»º <code>apk</code> åŒ…ç®¡ç†å¹³å°æ—¶ï¼Œèƒ½å¤Ÿæ–¹ä¾¿åœ°è¯†åˆ«å’ŒåŒºåˆ†ä¸åŒçš„ <code>apk</code> ç‰ˆæœ¬ã€‚</p></div><h2 id="å¼•ç”¨ç¬¬ä¸‰æ–¹æ¡†æ¶" tabindex="-1">å¼•ç”¨ç¬¬ä¸‰æ–¹æ¡†æ¶ <a class="header-anchor" href="#å¼•ç”¨ç¬¬ä¸‰æ–¹æ¡†æ¶" aria-label="Permalink to &quot;å¼•ç”¨ç¬¬ä¸‰æ–¹æ¡†æ¶&quot;">â€‹</a></h2><div class="warning custom-block"><p class="custom-block-title">âš ï¸ æ³¨æ„äº‹é¡¹</p><p>åœ¨æ­£å¼å¼•ç”¨ç¬¬ä¸‰æ–¹åº“æ—¶ï¼Œæˆ‘ä»¬è¦é€‰æ‹©æœ‰ç»´æŠ¤ã€ç”¨æˆ·é‡å¤§çš„çƒ­é—¨åº“ï¼Œå› ä¸ºè¿™ç§åº“é€šå¸¸ä¼šæ›´ç¨³å®šå¹¶æœ‰æ›´å¥½çš„æ”¯æŒã€‚å°½é‡é€‰æ‹©å¼€æºåº“å¹¶æŸ¥çœ‹ GitHub æˆ–å…¶ä»–æ‰˜ç®¡å¹³å°ä¸Šçš„æ›´æ–°é¢‘ç‡å’Œæ´»è·ƒåº¦ã€‚</p></div><p><strong>å¼•ç”¨æ ¼å¼ï¼š</strong></p><p>å¼•ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹æ¡†æ¶ï¼Œå¿…é¡»æ³¨æ˜æ¡†æ¶çš„ä½œç”¨åŠå‡ºå¤„ï¼Œä»¥ä¾¿å‡ºç°é—®é¢˜æ—¶èƒ½å¤Ÿå¿«é€Ÿæ ¸æŸ¥å’Œåé¦ˆã€‚</p><p>ç¤ºä¾‹ï¼š</p><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dependencies {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä¸Šæ‹‰åˆ·æ–°ä¸‹æ‹‰åŠ è½½æ¡†æ¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼€æºåœ°å€ï¼šhttps://github.com/scwang90/SmartRefreshLayout</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  implementation </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;io.github.scwang90:refresh-layout-kernel:2.0.6&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // æ ¸å¿ƒå¿…é¡»ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä¸€äº›è‡ªå®šä¹‰åˆ·æ–°å¤´</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  implementation project(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;:common_librarys:refresh-header&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æƒé™è¯·æ±‚æ¡†æ¶ https://github.com/getActivity/XXPermissions</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  implementation </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;com.github.getActivity:XXPermissions:18.0&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å›¾ç‰‡åŠ è½½æ¡†æ¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼€æºåœ°å€ï¼šhttps://github.com/bumptech/glide</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å®˜æ–¹æ–‡æ¡£ï¼šhttps://github.com/Muyangmin/glide-docs-cn</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  implementation </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;com.github.bumptech.glide:glide:4.15.1&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  kapt </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;com.github.bumptech.glide:compiler:4.12.0&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ²‰æµ¸å¼æ¡†æ¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼€æºåœ°å€ï¼šhttps://github.com/gyf-dev/ImmersionBar</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  implementation </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;com.geyifeng.immersionbar:immersionbar:3.2.2&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åŠ¨ç”»è§£æåº“</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼€æºåœ°å€ï¼šhttps://github.com/airbnb/lottie-android</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä¸€äº›åŠ¨ç”»èµ„æºï¼šhttps://lottiefiles.comã€https://icons8.com/animated-icons</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  implementation </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;com.airbnb.android:lottie:4.1.0&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // TabLayoutåº“</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼€æºåœ°å€ï¼šhttps://github.com/H07000223/FlycoTabLayout</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  implementation </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;com.flyco.tablayout:FlycoTabLayout_Lib:2.1.2@aar&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ğŸ’¡ æˆ‘æ³¨æ„åˆ°Gradle 7.0ç‰ˆæœ¬ä¹‹åå¼•å…¥äº†â€Œlibs.versions.tomlæ–‡ä»¶ï¼Œå®ƒæ˜¯ç”¨äºé›†ä¸­ç®¡ç†é¡¹ç›®ä¸­çš„ä¾èµ–é¡¹ç‰ˆæœ¬ä¿¡æ¯çš„ã€‚</p><p>é‚£æˆ‘ä»¬å°±ä¹Ÿå¯ä»¥æŒ‰ç…§æ–°ç‰ˆçš„æ ¼å¼ï¼š</p><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dependencies</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // mmkv æ•°æ®å­˜å‚¨æ¡†æ¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼€æºåœ°å€ï¼šhttps://github.com/Tencent/MMKV</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(libs.mmkv)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä¾èµ–æ³¨å…¥åº“ Hilt æ˜¯è°·æ­Œæ¨èçš„ç”¨äº Android çš„ä¾èµ–æ³¨å…¥æ¡†æ¶ï¼Œå¯ä»¥ç®€åŒ–ä¾èµ–çš„åˆ›å»ºå’Œç®¡ç†è¿‡ç¨‹ã€‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼€æºåœ°å€: https://github.com/google/dagger</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å®˜æ–¹æ–‡æ¡£: https://developer.android.com/training/dependency-injection/hilt-android</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(libs.hilt.android)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Hilt çš„æ³¨è§£å¤„ç†å™¨ï¼ˆcompilerï¼‰åœ¨ç¼–è¯‘æ—¶ç”Ÿæˆä»£ç ï¼Œç”¨äºè‡ªåŠ¨åˆ›å»ºä¾èµ–ç±»ï¼Œä»è€Œå®ç°è‡ªåŠ¨æ³¨å…¥ã€‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼€æºåœ°å€: https://github.com/google/dagger</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å®˜æ–¹æ–‡æ¡£: https://developer.android.com/training/dependency-injection/hilt-android</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  kapt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(libs.hilt.compiler)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // é˜¿é‡Œå·´å·´å¼€å‘çš„ä¸€ä¸ªé«˜æ€§èƒ½ JSON åº“</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼€æºåœ°å€: https://github.com/alibaba/fastjson</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(libs.fastjson)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // AndroidX Activity KTX åº“ï¼Œæä¾›äº† Kotlin æ‰©å±•å‡½æ•°ï¼Œç®€åŒ–äº† Activity çš„å¼€å‘ï¼Œ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¦‚ï¼šé›†æˆ Jetpack ç»„ä»¶ï¼ˆå¦‚ ViewModel å’Œ Lifecycleï¼‰ç­‰ã€‚viewModels() å°±æ˜¯æ¥è‡ªäºæ­¤åº“ï¼Œå®ƒç®€åŒ–äº† ViewModel çš„è·å–ã€‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼€æºåœ°å€: https://github.com/androidx/androidx/tree/androidx-main/activity</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å®˜æ–¹æ–‡æ¡£: https://developer.android.com/jetpack/androidx/releases/activity</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(libs.androidx.activity.ktx)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // AndroidX Fragment KTX åº“ï¼Œä¸º Fragment æä¾›äº†æ›´å¤šä¾¿æ·çš„ Kotlin æ‰©å±•å‡½æ•°ï¼Œ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼€æºåœ°å€: https://github.com/androidx/androidx/tree/androidx-main/fragment</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å®˜æ–¹æ–‡æ¡£: https://developer.android.com/jetpack/androidx/releases/fragment</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(libs.androidx.fragment.ktx)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // room æ˜¯ä¸€ä¸ª SQLite æ•°æ®åº“çš„å°è£…åº“ï¼Œæä¾›äº†æ›´é«˜çº§åˆ«çš„æŠ½è±¡ï¼Œç®€åŒ–äº†æ•°æ®åº“çš„æ“ä½œã€‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼€æºåœ°å€: https://github.com/androidx/androidx/tree/androidx-main/room</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å®˜æ–¹æ–‡æ¡£: https://developer.android.com/jetpack/androidx/releases/room</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(libs.androidx.room.runtime)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(libs.androidx.room.ktx)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  annotationProcessor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(libs.androidx.room.compiler)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Androidé¡¹ç›®åŸºç¡€åº“</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">project</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;:common_librarys:andbasic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å°è£…çš„Toastæç¤ºæ¡†æ¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  implementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">project</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;:common_librarys:toaster&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">âš ï¸ æ³¨æ„äº‹é¡¹</p><p>åœ¨ä¸»é¡¹ç›®å­æ¨¡å—ä¸­ï¼Œæ˜¯å¦ä¹Ÿé‡‡ç”¨libs.versions.tomlå…¨å±€ä¾èµ–éœ€æ±‚æ ¹æ®å®é™…æƒ…å†µè€Œå®šã€‚</p><p>å¦‚æœè€ƒè™‘åˆ°æ¨¡å—ä¼šæœ‰å¤šé¡¹ç›®ä½¿ç”¨çš„å¯èƒ½æ€§ï¼Œå°±ä¸å»ºè®®é…ç½®libs.versions.tomlå…¨å±€ä¾èµ–ï¼Œè¿™æ ·æˆ‘ä»¬æ›´èƒ½è‡ªç”±ç®¡æ§å­æ¨¡å—å¼•å…¥çš„ä¸€äº›ä¾èµ–ç‰ˆæœ¬ã€‚</p><div class="language-groovy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">groovy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è€ƒè™‘åˆ°æ¨¡å—ä¼šå¤šé¡¹ç›®ä½¿ç”¨çš„å¯èƒ½æ€§ï¼Œæ‰€ä»¥ä¸åœ¨è¿™é‡Œé…ç½®libs.versions.tomlå…¨å±€ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dependencies {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // AndroidX åº“ï¼šhttps://github.com/androidx/androidx</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  implementation </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;androidx.appcompat:appcompat:1.6.1&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ....</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/contents/project_directory_structure.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>ä¸Šä¸€é¡µ</span><span class="title" data-v-e257564d>å·¥ç¨‹ç›®å½•ç»“æ„</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/contents/naming_conventions.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>ä¸‹ä¸€é¡µ</span><span class="title" data-v-e257564d>å‘½åè§„èŒƒ</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>åœ¨ Apache-2.0 è®¸å¯è¯ä¸‹å‘å¸ƒã€‚</p><p class="copyright" data-v-e315a0ad>Copyright Â© 2024 Developed by æ–°ä¸€</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"contents_api-examples.md\":\"D0PmlyQ6\",\"contents_code_style.md\":\"L4SnAp8Y\",\"contents_git_conventions.md\":\"Bs0pgVaw\",\"contents_gradle_config.md\":\"7fvXz-_O\",\"contents_kotlin_conventions.md\":\"C1CsIjlI\",\"contents_markdown-examples.md\":\"_E3qcujE\",\"contents_naming_conventions.md\":\"DEptgyVl\",\"contents_performance_optimization.md\":\"CKMMK2R-\",\"contents_project_directory_structure.md\":\"-TA6AFR6\",\"contents_proposal.md\":\"D8Aj5JOo\",\"contents_readme.md\":\"BuwqUn97\",\"contents_security_privacy.md\":\"CgTaCgcY\",\"contents_testing_debugging.md\":\"Bt_lHqVm\",\"index.md\":\"CtGP6hVW\",\"public_readme.md\":\"Cwy0PMbS\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Androidç¼–ç è§„èŒƒ\",\"description\":\"ä¸€ä¸ªå®‰å“é¡¹ç›®å¼€å‘çš„ç¼–ç è§„èŒƒæ–‡æ¡£\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":\"dark\",\"themeConfig\":{\"logo\":{\"src\":\"/favicon.svg\"},\"nav\":[{\"text\":\"æ–‡æ¡£\",\"link\":\"/contents/readme\",\"activeMatch\":\"/contents\"}],\"docFooter\":{\"prev\":\"ä¸Šä¸€é¡µ\",\"next\":\"ä¸‹ä¸€é¡µ\"},\"outline\":{\"label\":\"é¡µé¢å¯¼èˆª\"},\"sidebar\":[{\"base\":\"/contents/\",\"text\":\"Contents\",\"items\":[{\"text\":\"è‡ªè¿°\",\"link\":\"readme\"},{\"text\":\"å·¥ç¨‹ç›®å½•ç»“æ„\",\"link\":\"project_directory_structure\"},{\"text\":\"Gradleé…ç½®\",\"link\":\"gradle_config\"},{\"text\":\"å‘½åè§„èŒƒ\",\"link\":\"naming_conventions\"},{\"text\":\"ä»£ç é£æ ¼\",\"link\":\"code_style\"},{\"text\":\"æ€§èƒ½ä¼˜åŒ–\",\"link\":\"performance_optimization\"},{\"text\":\"Git è§„èŒƒ\",\"link\":\"git_conventions\"}]}],\"lightModeSwitchTitle\":\"åˆ‡æ¢åˆ°æµ…è‰²æ¨¡å¼\",\"darkModeSwitchTitle\":\"åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼\",\"footer\":{\"message\":\"åœ¨ Apache-2.0 è®¸å¯è¯ä¸‹å‘å¸ƒã€‚\",\"copyright\":\"Copyright Â© 2024 Developed by æ–°ä¸€\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>